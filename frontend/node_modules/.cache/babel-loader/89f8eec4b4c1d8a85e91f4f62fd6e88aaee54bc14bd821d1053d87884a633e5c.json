{"ast":null,"code":"var _jsxFileName = \"D:\\\\UpWork\\\\AI_Inga\\\\CPS\\\\CPS_FinalDesign-main\\\\CPS_FinalDesign-main\\\\frontend\\\\src\\\\pages\\\\FormSubmitterPage.jsx\",\n  _s = $RefreshSig$();\n// src/pages/FormSubmitterPage.jsx\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { submitStart, fetchLogsByJob } from \"../services/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction prettyNow() {\n  const d = new Date();\n  return d.toLocaleString();\n}\nfunction classNames(...xs) {\n  return xs.filter(Boolean).join(\" \");\n}\nexport default function FormSubmitterPage() {\n  _s();\n  const nav = useNavigate();\n\n  // form inputs\n  const [file, setFile] = useState(null);\n  const [proxy, setProxy] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [haltOnCaptcha, setHaltOnCaptcha] = useState(true);\n  const [useCaptcha, setUseCaptcha] = useState(false);\n\n  // run state\n  const [jobId, setJobId] = useState(\"\");\n  const [starting, setStarting] = useState(false);\n  const [polling, setPolling] = useState(false);\n  const [startedAt, setStartedAt] = useState(null);\n\n  // user-friendly progress (derived from DB logs)\n  const [progress, setProgress] = useState({\n    totalVisited: 0,\n    submitted: 0,\n    failed: 0,\n    emailed: 0,\n    lastSite: \"\",\n    lastEvent: \"\"\n  });\n  const pollRef = useRef(null);\n\n  // derive “can start”\n  const canStart = useMemo(() => !!file && !starting && !polling, [file, starting, polling]);\n\n  // ---- helpers -------------------------------------------------------------\n\n  const resetRun = () => {\n    setJobId(\"\");\n    setStartedAt(null);\n    setProgress({\n      totalVisited: 0,\n      submitted: 0,\n      failed: 0,\n      emailed: 0,\n      lastSite: \"\",\n      lastEvent: \"\"\n    });\n    setPolling(false);\n    if (pollRef.current) {\n      clearInterval(pollRef.current);\n      pollRef.current = null;\n    }\n  };\n\n  // Parse a single log line into our user-facing counters.\n  // This expects the back end to write concise markers, e.g.\n  //   \"[2] example.com — FORM_PASS\"\n  //   \"[2] example.com — FORM_FAIL(captcha)\"\n  //   \"Opened common contact path: https://site/contact\"\n  function foldLogsIntoProgress(lines, prev) {\n    let st = {\n      ...prev\n    };\n    for (const r of lines) {\n      const m1 = /\\[\\d+\\]\\s+([^\\s]+)\\s+—\\s+(FORM_PASS|FORM_FAIL)(?:\\(([^)]+)\\))?/i.exec(r.message || \"\");\n      if (m1) {\n        const site = m1[1].replace(/^https?:\\/\\//, \"\");\n        const kind = m1[2].toUpperCase();\n        st.lastSite = site;\n        st.lastEvent = kind;\n        if (kind === \"FORM_PASS\") st.submitted += 1;\n        if (kind === \"FORM_FAIL\") st.failed += 1;\n        continue;\n      }\n      if (/Contact discovery:/.test(r.message || \"\")) {\n        st.totalVisited += 1;\n        const urlm = /'url':\\s*'([^']+)'/.exec(r.message);\n        if (urlm) st.lastSite = urlm[1].replace(/^https?:\\/\\//, \"\");\n        st.lastEvent = \"CONTACT FOUND\";\n      }\n      if (/contacted via email/i.test(r.message || \"\")) {\n        st.emailed += 1;\n        st.lastEvent = \"EMAILED\";\n      }\n    }\n    return st;\n  }\n\n  // Poll DB logs (INFO-level user msgs are sufficient; if you also store DEBUG, keep them out here)\n  const startPolling = job => {\n    if (pollRef.current) clearInterval(pollRef.current);\n    setPolling(true);\n    pollRef.current = setInterval(async () => {\n      try {\n        const rows = await fetchLogsByJob(job, {\n          limit: 100,\n          level: \"INFO\"\n        });\n        setProgress(prev => foldLogsIntoProgress(rows, prev));\n        // Heuristic “done”: look for a completion marker or no new logs for a while\n        const done = rows.some(r => /Automation complete/i.test(r.message || \"\"));\n        if (done) {\n          clearInterval(pollRef.current);\n          pollRef.current = null;\n          setPolling(false);\n          toast.success(\"Automation complete\");\n        }\n      } catch (e) {\n        console.error(e);\n        // stop on error to avoid noise\n        clearInterval(pollRef.current);\n        pollRef.current = null;\n        setPolling(false);\n      }\n    }, 2500);\n  };\n\n  // ---- actions -------------------------------------------------------------\n\n  const onPickFile = e => {\n    var _e$target$files;\n    const f = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (f) setFile(f);\n  };\n  const onStart = async () => {\n    if (!file) {\n      toast.error(\"Please upload a CSV file first.\");\n      return;\n    }\n    setStarting(true);\n    setStartedAt(prettyNow());\n    try {\n      const res = await submitStart({\n        file,\n        proxy,\n        haltOnCaptcha,\n        message,\n        useCaptcha\n      });\n      const id = res === null || res === void 0 ? void 0 : res.request_id;\n      if (!id) throw new Error(\"No job id returned\");\n      setJobId(id);\n      toast.success(\"Submission started\");\n      setProgress({\n        totalVisited: 0,\n        submitted: 0,\n        failed: 0,\n        emailed: 0,\n        lastSite: \"\",\n        lastEvent: \"STARTED\"\n      });\n      startPolling(id);\n    } catch (e) {\n      console.error(e);\n      toast.error(\"Failed to start submission\");\n      setStartedAt(null);\n    } finally {\n      setStarting(false);\n    }\n  };\n  useEffect(() => {\n    return () => {\n      if (pollRef.current) clearInterval(pollRef.current);\n    };\n  }, []);\n\n  // ---- UI ------------------------------------------------------------------\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative min-h-screen text-gray-900\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 -z-10\",\n      \"aria-hidden\": true,\n      style: {\n        background: \"radial-gradient(1200px 600px at 30% -10%, rgba(99,102,241,0.20), transparent 60%), radial-gradient(900px 500px at 100% 0%, rgba(16,185,129,0.16), transparent 60%), linear-gradient(180deg, #0f172a 0%, #111827 12%, #0b1020 100%)\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Toaster, {\n      position: \"top-center\",\n      toastOptions: {\n        style: {\n          padding: \"12px 20px\",\n          fontSize: \"15px\",\n          background: \"#111827\",\n          color: \"#fff\",\n          borderRadius: \"12px\",\n          boxShadow: \"0 10px 30px rgba(0,0,0,0.25)\"\n        },\n        success: {\n          iconTheme: {\n            primary: \"#10b981\",\n            secondary: \"#fff\"\n          }\n        },\n        error: {\n          iconTheme: {\n            primary: \"#ef4444\",\n            secondary: \"#fff\"\n          }\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pt-14 pb-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start justify-between gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 ring-1 ring-white/20 text-xs font-semibold\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"inline-block w-1.5 h-1.5 rounded-full bg-emerald-400\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), \"Automation\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"mt-3 text-3xl sm:text-4xl font-bold tracking-tight\",\n            children: \"Contact Form Submitter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-slate-300\",\n            children: \"Upload a CSV of websites and we\\u2019ll do the rest. Progress is logged to the database and shown here in plain, human-friendly terms.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/logs\",\n          className: \"shrink-0 inline-flex items-center px-4 py-2.5 rounded-xl bg-white/10 text-white ring-1 ring-white/20 hover:bg-white/20 transition\",\n          children: \"View All Logs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pb-16\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-3xl bg-white shadow-2xl shadow-indigo-500/10 ring-1 ring-black/5 overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-6 py-5 border-b border-gray-100\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-lg font-semibold\",\n            children: \"Run a Submission\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Steps: 1) Upload CSV \\xB7 2) (Optional) Proxy \\xB7 3) CAPTCHA handling \\xB7 4) Start\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 grid grid-cols-1 lg:grid-cols-3 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lg:col-span-2 space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rounded-2xl border border-gray-200 p-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium mb-2\",\n                children: \"1. Upload CSV file\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"file\",\n                className: classNames(\"block w-full rounded-xl border-2 border-dashed p-6 text-center cursor-pointer transition\", file ? \"border-emerald-300 bg-emerald-50/60\" : \"border-gray-300 hover:bg-gray-50\"),\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"file\",\n                  type: \"file\",\n                  accept: \".csv\",\n                  onChange: onPickFile,\n                  className: \"hidden\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 19\n                }, this), file ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-semibold\",\n                    children: file.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs text-gray-500 mt-1\",\n                    children: [(file.size / 1024).toFixed(2), \" KB\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-gray-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium\",\n                    children: \"Drop CSV here or click to choose\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs\",\n                    children: \"Headers allowed. We\\u2019ll sanitize each URL.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rounded-2xl border border-gray-200 p-5 grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium mb-2\",\n                  children: \"2. Proxy (Optional)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: proxy,\n                  onChange: e => setProxy(e.target.value),\n                  placeholder: \"http://user:pass@host:port\",\n                  className: \"w-full px-4 py-3 rounded-xl bg-white border border-gray-300 focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 transition\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-xs text-gray-500\",\n                  children: \"Leave blank to run without a proxy.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium mb-2\",\n                  children: \"Custom Message\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: message,\n                  onChange: e => setMessage(e.target.value),\n                  placeholder: \"Optional message to include in forms\",\n                  className: \"w-full px-4 py-3 rounded-xl bg-white border border-gray-300 focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 transition\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rounded-2xl border border-gray-200 p-5 grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: \"3. CAPTCHA handling\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: haltOnCaptcha,\n                    onChange: e => setHaltOnCaptcha(e.target.checked),\n                    className: \"h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm\",\n                    children: \"Halt when CAPTCHA is encountered\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: useCaptcha,\n                    onChange: e => setUseCaptcha(e.target.checked),\n                    className: \"h-4 w-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm\",\n                    children: \"Try to solve reCAPTCHA (if configured)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-500\",\n                  children: \"Solver credentials can be stored in your profile. When unchecked, we will skip CAPTCHA-gated forms.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rounded-xl bg-gray-50 border border-gray-200 p-4 text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold mb-1\",\n                  children: \"How it\\u2019s reported\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"list-disc ml-5 text-gray-600 space-y-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: \"FORM_PASS\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 324,\n                      columnNumber: 25\n                    }, this), \" \\u2014 form submitted.\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: \"FORM_FAIL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 25\n                    }, this), \" \\u2014 reason (e.g. \\u201Ccaptcha\\u201D).\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: \"\\u201CContact found\\u201D \\u2014 we detected the form or an email address.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lg:col-span-1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rounded-2xl border border-gray-200 p-5 bg-white/70\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-semibold mb-2\",\n                children: \"Run Summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-2 text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-500\",\n                    children: \"Job ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-mono\",\n                    children: jobId || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-500\",\n                    children: \"Started\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: startedAt || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4 grid grid-cols-2 gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rounded-xl bg-emerald-50 text-emerald-800 px-4 py-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs uppercase tracking-wide\",\n                    children: \"Submitted\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-2xl font-bold\",\n                    children: progress.submitted\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rounded-xl bg-amber-50 text-amber-800 px-4 py-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs uppercase tracking-wide\",\n                    children: \"Failed\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 353,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-2xl font-bold\",\n                    children: progress.failed\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rounded-xl bg-indigo-50 text-indigo-800 px-4 py-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs uppercase tracking-wide\",\n                    children: \"Visited\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-2xl font-bold\",\n                    children: progress.totalVisited\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rounded-xl bg-slate-100 text-slate-800 px-4 py-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs uppercase tracking-wide\",\n                    children: \"Emailed\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-2xl font-bold\",\n                    children: progress.emailed\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 362,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4 rounded-xl bg-gray-50 border border-gray-200 p-4 text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-semibold mb-1\",\n                  children: \"Latest\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-gray-800 truncate\",\n                  children: progress.lastSite ? progress.lastSite : \"—\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs text-gray-500\",\n                  children: progress.lastEvent || (polling ? \"Working…\" : jobId ? \"Waiting…\" : \"—\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-5 flex flex-col gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: onStart,\n                  disabled: !canStart,\n                  className: classNames(\"inline-flex items-center justify-center px-5 py-3 rounded-xl font-semibold text-white shadow-sm transition\", canStart ? \"bg-indigo-600 hover:bg-indigo-700\" : \"bg-indigo-600/50 cursor-not-allowed\"),\n                  children: starting ? \"Starting…\" : \"Start Submitting\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => nav(jobId ? `/logs?job_id=${jobId}` : \"/logs\"),\n                  className: \"inline-flex items-center justify-center px-5 py-3 rounded-xl bg-white border border-gray-300 hover:bg-gray-50 text-gray-900 transition\",\n                  children: \"Open Logs\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 19\n                }, this), jobId && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: resetRun,\n                  className: \"inline-flex items-center justify-center px-5 py-3 rounded-xl bg-white/80 border border-gray-200 hover:bg-white text-gray-700 transition\",\n                  children: \"Reset\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-6 pb-6 text-sm text-gray-500 border-t border-gray-100\",\n          children: \"Progress is updated every few seconds by reading the log table. Technical details are hidden by default; open the Logs page for full entries.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n}\n_s(FormSubmitterPage, \"Y7YDkfVZ7jcgZwWdfY6QXiZN6gM=\", false, function () {\n  return [useNavigate];\n});\n_c = FormSubmitterPage;\nvar _c;\n$RefreshReg$(_c, \"FormSubmitterPage\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","toast","Toaster","Link","useNavigate","submitStart","fetchLogsByJob","jsxDEV","_jsxDEV","prettyNow","d","Date","toLocaleString","classNames","xs","filter","Boolean","join","FormSubmitterPage","_s","nav","file","setFile","proxy","setProxy","message","setMessage","haltOnCaptcha","setHaltOnCaptcha","useCaptcha","setUseCaptcha","jobId","setJobId","starting","setStarting","polling","setPolling","startedAt","setStartedAt","progress","setProgress","totalVisited","submitted","failed","emailed","lastSite","lastEvent","pollRef","canStart","resetRun","current","clearInterval","foldLogsIntoProgress","lines","prev","st","r","m1","exec","site","replace","kind","toUpperCase","test","urlm","startPolling","job","setInterval","rows","limit","level","done","some","success","e","console","error","onPickFile","_e$target$files","f","target","files","onStart","res","id","request_id","Error","className","children","style","background","fileName","_jsxFileName","lineNumber","columnNumber","position","toastOptions","padding","fontSize","color","borderRadius","boxShadow","iconTheme","primary","secondary","to","htmlFor","type","accept","onChange","name","size","toFixed","value","placeholder","checked","onClick","disabled","_c","$RefreshReg$"],"sources":["D:/UpWork/AI_Inga/CPS/CPS_FinalDesign-main/CPS_FinalDesign-main/frontend/src/pages/FormSubmitterPage.jsx"],"sourcesContent":["// src/pages/FormSubmitterPage.jsx\r\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport toast, { Toaster } from \"react-hot-toast\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { submitStart, fetchLogsByJob } from \"../services/api\";\r\n\r\nfunction prettyNow() {\r\n  const d = new Date();\r\n  return d.toLocaleString();\r\n}\r\n\r\nfunction classNames(...xs) {\r\n  return xs.filter(Boolean).join(\" \");\r\n}\r\n\r\nexport default function FormSubmitterPage() {\r\n  const nav = useNavigate();\r\n\r\n  // form inputs\r\n  const [file, setFile] = useState(null);\r\n  const [proxy, setProxy] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [haltOnCaptcha, setHaltOnCaptcha] = useState(true);\r\n  const [useCaptcha, setUseCaptcha] = useState(false);\r\n\r\n  // run state\r\n  const [jobId, setJobId] = useState(\"\");\r\n  const [starting, setStarting] = useState(false);\r\n  const [polling, setPolling] = useState(false);\r\n  const [startedAt, setStartedAt] = useState(null);\r\n\r\n  // user-friendly progress (derived from DB logs)\r\n  const [progress, setProgress] = useState({\r\n    totalVisited: 0,\r\n    submitted: 0,\r\n    failed: 0,\r\n    emailed: 0,\r\n    lastSite: \"\",\r\n    lastEvent: \"\",\r\n  });\r\n\r\n  const pollRef = useRef(null);\r\n\r\n  // derive “can start”\r\n  const canStart = useMemo(() => !!file && !starting && !polling, [file, starting, polling]);\r\n\r\n  // ---- helpers -------------------------------------------------------------\r\n\r\n  const resetRun = () => {\r\n    setJobId(\"\");\r\n    setStartedAt(null);\r\n    setProgress({\r\n      totalVisited: 0,\r\n      submitted: 0,\r\n      failed: 0,\r\n      emailed: 0,\r\n      lastSite: \"\",\r\n      lastEvent: \"\",\r\n    });\r\n    setPolling(false);\r\n    if (pollRef.current) {\r\n      clearInterval(pollRef.current);\r\n      pollRef.current = null;\r\n    }\r\n  };\r\n\r\n  // Parse a single log line into our user-facing counters.\r\n  // This expects the back end to write concise markers, e.g.\r\n  //   \"[2] example.com — FORM_PASS\"\r\n  //   \"[2] example.com — FORM_FAIL(captcha)\"\r\n  //   \"Opened common contact path: https://site/contact\"\r\n  function foldLogsIntoProgress(lines, prev) {\r\n    let st = { ...prev };\r\n    for (const r of lines) {\r\n      const m1 = /\\[\\d+\\]\\s+([^\\s]+)\\s+—\\s+(FORM_PASS|FORM_FAIL)(?:\\(([^)]+)\\))?/i.exec(r.message || \"\");\r\n      if (m1) {\r\n        const site = m1[1].replace(/^https?:\\/\\//, \"\");\r\n        const kind = m1[2].toUpperCase();\r\n        st.lastSite = site;\r\n        st.lastEvent = kind;\r\n        if (kind === \"FORM_PASS\") st.submitted += 1;\r\n        if (kind === \"FORM_FAIL\") st.failed += 1;\r\n        continue;\r\n      }\r\n      if (/Contact discovery:/.test(r.message || \"\")) {\r\n        st.totalVisited += 1;\r\n        const urlm = /'url':\\s*'([^']+)'/.exec(r.message);\r\n        if (urlm) st.lastSite = urlm[1].replace(/^https?:\\/\\//, \"\");\r\n        st.lastEvent = \"CONTACT FOUND\";\r\n      }\r\n      if (/contacted via email/i.test(r.message || \"\")) {\r\n        st.emailed += 1;\r\n        st.lastEvent = \"EMAILED\";\r\n      }\r\n    }\r\n    return st;\r\n  }\r\n\r\n  // Poll DB logs (INFO-level user msgs are sufficient; if you also store DEBUG, keep them out here)\r\n  const startPolling = (job) => {\r\n    if (pollRef.current) clearInterval(pollRef.current);\r\n    setPolling(true);\r\n    pollRef.current = setInterval(async () => {\r\n      try {\r\n        const rows = await fetchLogsByJob(job, { limit: 100, level: \"INFO\" });\r\n        setProgress((prev) => foldLogsIntoProgress(rows, prev));\r\n        // Heuristic “done”: look for a completion marker or no new logs for a while\r\n        const done = rows.some((r) => /Automation complete/i.test(r.message || \"\"));\r\n        if (done) {\r\n          clearInterval(pollRef.current);\r\n          pollRef.current = null;\r\n          setPolling(false);\r\n          toast.success(\"Automation complete\");\r\n        }\r\n      } catch (e) {\r\n        console.error(e);\r\n        // stop on error to avoid noise\r\n        clearInterval(pollRef.current);\r\n        pollRef.current = null;\r\n        setPolling(false);\r\n      }\r\n    }, 2500);\r\n  };\r\n\r\n  // ---- actions -------------------------------------------------------------\r\n\r\n  const onPickFile = (e) => {\r\n    const f = e.target.files?.[0];\r\n    if (f) setFile(f);\r\n  };\r\n\r\n  const onStart = async () => {\r\n    if (!file) {\r\n      toast.error(\"Please upload a CSV file first.\");\r\n      return;\r\n    }\r\n    setStarting(true);\r\n    setStartedAt(prettyNow());\r\n    try {\r\n      const res = await submitStart({ file, proxy, haltOnCaptcha, message, useCaptcha });\r\n      const id = res?.request_id;\r\n      if (!id) throw new Error(\"No job id returned\");\r\n      setJobId(id);\r\n      toast.success(\"Submission started\");\r\n      setProgress({\r\n        totalVisited: 0,\r\n        submitted: 0,\r\n        failed: 0,\r\n        emailed: 0,\r\n        lastSite: \"\",\r\n        lastEvent: \"STARTED\",\r\n      });\r\n      startPolling(id);\r\n    } catch (e) {\r\n      console.error(e);\r\n      toast.error(\"Failed to start submission\");\r\n      setStartedAt(null);\r\n    } finally {\r\n      setStarting(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (pollRef.current) clearInterval(pollRef.current);\r\n    };\r\n  }, []);\r\n\r\n  // ---- UI ------------------------------------------------------------------\r\n\r\n  return (\r\n    <div className=\"relative min-h-screen text-gray-900\">\r\n      {/* Glassy gradient background */}\r\n      <div\r\n        className=\"absolute inset-0 -z-10\"\r\n        aria-hidden\r\n        style={{\r\n          background:\r\n            \"radial-gradient(1200px 600px at 30% -10%, rgba(99,102,241,0.20), transparent 60%), radial-gradient(900px 500px at 100% 0%, rgba(16,185,129,0.16), transparent 60%), linear-gradient(180deg, #0f172a 0%, #111827 12%, #0b1020 100%)\",\r\n        }}\r\n      />\r\n      <Toaster\r\n        position=\"top-center\"\r\n        toastOptions={{\r\n          style: {\r\n            padding: \"12px 20px\",\r\n            fontSize: \"15px\",\r\n            background: \"#111827\",\r\n            color: \"#fff\",\r\n            borderRadius: \"12px\",\r\n            boxShadow: \"0 10px 30px rgba(0,0,0,0.25)\",\r\n          },\r\n          success: { iconTheme: { primary: \"#10b981\", secondary: \"#fff\" } },\r\n          error:   { iconTheme: { primary: \"#ef4444\", secondary: \"#fff\" } },\r\n        }}\r\n      />\r\n\r\n      {/* Hero */}\r\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pt-14 pb-8\">\r\n        <div className=\"flex items-start justify-between gap-6\">\r\n          <div className=\"text-white\">\r\n            <div className=\"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 ring-1 ring-white/20 text-xs font-semibold\">\r\n              <span className=\"inline-block w-1.5 h-1.5 rounded-full bg-emerald-400\" />\r\n              Automation\r\n            </div>\r\n            <h1 className=\"mt-3 text-3xl sm:text-4xl font-bold tracking-tight\">\r\n              Contact Form Submitter\r\n            </h1>\r\n            <p className=\"mt-2 text-slate-300\">\r\n              Upload a CSV of websites and we’ll do the rest. Progress is logged to the database and\r\n              shown here in plain, human-friendly terms.\r\n            </p>\r\n          </div>\r\n          <Link\r\n            to=\"/logs\"\r\n            className=\"shrink-0 inline-flex items-center px-4 py-2.5 rounded-xl bg-white/10 text-white ring-1 ring-white/20 hover:bg-white/20 transition\"\r\n          >\r\n            View All Logs\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Card */}\r\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 pb-16\">\r\n        <div className=\"rounded-3xl bg-white shadow-2xl shadow-indigo-500/10 ring-1 ring-black/5 overflow-hidden\">\r\n          <div className=\"px-6 py-5 border-b border-gray-100\">\r\n            <div className=\"text-lg font-semibold\">Run a Submission</div>\r\n            <div className=\"text-sm text-gray-500\">\r\n              Steps: 1) Upload CSV · 2) (Optional) Proxy · 3) CAPTCHA handling · 4) Start\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"p-6 grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n            {/* Left: Inputs */}\r\n            <div className=\"lg:col-span-2 space-y-6\">\r\n              {/* Upload */}\r\n              <div className=\"rounded-2xl border border-gray-200 p-5\">\r\n                <div className=\"font-medium mb-2\">1. Upload CSV file</div>\r\n                <label\r\n                  htmlFor=\"file\"\r\n                  className={classNames(\r\n                    \"block w-full rounded-xl border-2 border-dashed p-6 text-center cursor-pointer transition\",\r\n                    file ? \"border-emerald-300 bg-emerald-50/60\" : \"border-gray-300 hover:bg-gray-50\"\r\n                  )}\r\n                >\r\n                  <input\r\n                    id=\"file\"\r\n                    type=\"file\"\r\n                    accept=\".csv\"\r\n                    onChange={onPickFile}\r\n                    className=\"hidden\"\r\n                  />\r\n                  {file ? (\r\n                    <div>\r\n                      <div className=\"font-semibold\">{file.name}</div>\r\n                      <div className=\"text-xs text-gray-500 mt-1\">\r\n                        {(file.size / 1024).toFixed(2)} KB\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"text-gray-500\">\r\n                      <div className=\"font-medium\">Drop CSV here or click to choose</div>\r\n                      <div className=\"text-xs\">Headers allowed. We’ll sanitize each URL.</div>\r\n                    </div>\r\n                  )}\r\n                </label>\r\n              </div>\r\n\r\n              {/* Proxy + Message */}\r\n              <div className=\"rounded-2xl border border-gray-200 p-5 grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                  <div className=\"font-medium mb-2\">2. Proxy (Optional)</div>\r\n                  <input\r\n                    value={proxy}\r\n                    onChange={(e) => setProxy(e.target.value)}\r\n                    placeholder=\"http://user:pass@host:port\"\r\n                    className=\"w-full px-4 py-3 rounded-xl bg-white border border-gray-300 focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 transition\"\r\n                  />\r\n                  <p className=\"mt-1 text-xs text-gray-500\">\r\n                    Leave blank to run without a proxy.\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <div className=\"font-medium mb-2\">Custom Message</div>\r\n                  <input\r\n                    value={message}\r\n                    onChange={(e) => setMessage(e.target.value)}\r\n                    placeholder=\"Optional message to include in forms\"\r\n                    className=\"w-full px-4 py-3 rounded-xl bg-white border border-gray-300 focus:ring-4 focus:ring-indigo-100 focus:border-indigo-500 transition\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* CAPTCHA */}\r\n              <div className=\"rounded-2xl border border-gray-200 p-5 grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"font-medium\">3. CAPTCHA handling</div>\r\n                  <label className=\"flex items-center gap-2\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={haltOnCaptcha}\r\n                      onChange={(e) => setHaltOnCaptcha(e.target.checked)}\r\n                      className=\"h-4 w-4\"\r\n                    />\r\n                    <span className=\"text-sm\">Halt when CAPTCHA is encountered</span>\r\n                  </label>\r\n                  <label className=\"flex items-center gap-2\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={useCaptcha}\r\n                      onChange={(e) => setUseCaptcha(e.target.checked)}\r\n                      className=\"h-4 w-4\"\r\n                    />\r\n                    <span className=\"text-sm\">Try to solve reCAPTCHA (if configured)</span>\r\n                  </label>\r\n                  <p className=\"text-xs text-gray-500\">\r\n                    Solver credentials can be stored in your profile. When unchecked, we will skip\r\n                    CAPTCHA-gated forms.\r\n                  </p>\r\n                </div>\r\n                <div className=\"rounded-xl bg-gray-50 border border-gray-200 p-4 text-sm\">\r\n                  <div className=\"font-semibold mb-1\">How it’s reported</div>\r\n                  <ul className=\"list-disc ml-5 text-gray-600 space-y-1\">\r\n                    <li><span className=\"font-medium\">FORM_PASS</span> — form submitted.</li>\r\n                    <li><span className=\"font-medium\">FORM_FAIL</span> — reason (e.g. “captcha”).</li>\r\n                    <li>“Contact found” — we detected the form or an email address.</li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Right: Run summary */}\r\n            <div className=\"lg:col-span-1\">\r\n              <div className=\"rounded-2xl border border-gray-200 p-5 bg-white/70\">\r\n                <div className=\"font-semibold mb-2\">Run Summary</div>\r\n                <div className=\"space-y-2 text-sm\">\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-gray-500\">Job ID</span>\r\n                    <span className=\"font-mono\">{jobId || \"—\"}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-gray-500\">Started</span>\r\n                    <span>{startedAt || \"—\"}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"mt-4 grid grid-cols-2 gap-3\">\r\n                  <div className=\"rounded-xl bg-emerald-50 text-emerald-800 px-4 py-3\">\r\n                    <div className=\"text-xs uppercase tracking-wide\">Submitted</div>\r\n                    <div className=\"text-2xl font-bold\">{progress.submitted}</div>\r\n                  </div>\r\n                  <div className=\"rounded-xl bg-amber-50 text-amber-800 px-4 py-3\">\r\n                    <div className=\"text-xs uppercase tracking-wide\">Failed</div>\r\n                    <div className=\"text-2xl font-bold\">{progress.failed}</div>\r\n                  </div>\r\n                  <div className=\"rounded-xl bg-indigo-50 text-indigo-800 px-4 py-3\">\r\n                    <div className=\"text-xs uppercase tracking-wide\">Visited</div>\r\n                    <div className=\"text-2xl font-bold\">{progress.totalVisited}</div>\r\n                  </div>\r\n                  <div className=\"rounded-xl bg-slate-100 text-slate-800 px-4 py-3\">\r\n                    <div className=\"text-xs uppercase tracking-wide\">Emailed</div>\r\n                    <div className=\"text-2xl font-bold\">{progress.emailed}</div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"mt-4 rounded-xl bg-gray-50 border border-gray-200 p-4 text-sm\">\r\n                  <div className=\"font-semibold mb-1\">Latest</div>\r\n                  <div className=\"text-gray-800 truncate\">\r\n                    {progress.lastSite ? progress.lastSite : \"—\"}\r\n                  </div>\r\n                  <div className=\"text-xs text-gray-500\">\r\n                    {progress.lastEvent || (polling ? \"Working…\" : jobId ? \"Waiting…\" : \"—\")}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"mt-5 flex flex-col gap-2\">\r\n                  <button\r\n                    onClick={onStart}\r\n                    disabled={!canStart}\r\n                    className={classNames(\r\n                      \"inline-flex items-center justify-center px-5 py-3 rounded-xl font-semibold text-white shadow-sm transition\",\r\n                      canStart\r\n                        ? \"bg-indigo-600 hover:bg-indigo-700\"\r\n                        : \"bg-indigo-600/50 cursor-not-allowed\"\r\n                    )}\r\n                  >\r\n                    {starting ? \"Starting…\" : \"Start Submitting\"}\r\n                  </button>\r\n\r\n                  <button\r\n                    onClick={() => nav(jobId ? `/logs?job_id=${jobId}` : \"/logs\")}\r\n                    className=\"inline-flex items-center justify-center px-5 py-3 rounded-xl bg-white border border-gray-300 hover:bg-gray-50 text-gray-900 transition\"\r\n                  >\r\n                    Open Logs\r\n                  </button>\r\n\r\n                  {jobId && (\r\n                    <button\r\n                      onClick={resetRun}\r\n                      className=\"inline-flex items-center justify-center px-5 py-3 rounded-xl bg-white/80 border border-gray-200 hover:bg-white text-gray-700 transition\"\r\n                    >\r\n                      Reset\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Footer note */}\r\n          <div className=\"px-6 pb-6 text-sm text-gray-500 border-t border-gray-100\">\r\n            Progress is updated every few seconds by reading the log table. Technical details are\r\n            hidden by default; open the Logs page for full entries.\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}