{"ast":null,"code":"var _jsxFileName = \"D:\\\\UpWork\\\\AI_Inga\\\\CPS\\\\CPS_FinalDesign-main\\\\CPS_FinalDesign-main\\\\frontend\\\\src\\\\pages\\\\FormSubmitterPage.jsx\",\n  _s = $RefreshSig$();\n// src/pages/FormSubmitterPage.jsx\nimport React, { useState, useEffect, useRef } from \"react\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MAX_FILE_SIZE_MB = 10;\n\n// ---- Base URL (no change in behavior) ----\nconst API_BASE = (() => {\n  const cra = typeof process !== \"undefined\" && process.env && process.env.REACT_APP_API_BASE || \"\";\n  const win = typeof window !== \"undefined\" && window.__API_BASE__ || \"\";\n  let base = cra || win;\n  if (!base) {\n    const {\n      protocol,\n      hostname,\n      port\n    } = window.location;\n    base = port === \"3000\" ? `${protocol}//${hostname}:8000` : `${protocol}//${hostname}${port ? \":\" + port : \"\"}`;\n  }\n  return base.replace(/\\/$/, \"\");\n})();\nfunction getAccessToken() {\n  const keys = [\"access_token\", \"token\", \"authToken\", \"accessToken\", \"id_token\", \"jwt\", \"jwt_token\"];\n  for (const k of keys) {\n    const v = localStorage.getItem(k) || sessionStorage.getItem(k);\n    if (v) return v;\n  }\n  const m = document.cookie.match(/(?:^|;\\s*)(access_token|token)=([^;]+)/i);\n  if (m) return decodeURIComponent(m[2]);\n  return \"\";\n}\nexport default function FormSubmitterPage() {\n  _s();\n  const [csvFile, setCsvFile] = useState(null);\n  const [proxy, setProxy] = useState(\"\");\n  const [haltOnCaptcha, setHaltOnCaptcha] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [logs, setLogs] = useState([]);\n  const fileInputRef = useRef(null);\n  const logsContainerRef = useRef(null);\n  const eventSourceRef = useRef(null);\n  const reconnectTimerRef = useRef(null);\n  const MAX_RETRIES = 6;\n\n  // ------- Meta --------\n  useEffect(() => {\n    document.title = \"Campaign Submission Center | CPS\";\n  }, []);\n\n  // ------- Auto-scroll logs --------\n  useEffect(() => {\n    if (logsContainerRef.current) {\n      logsContainerRef.current.scrollTop = logsContainerRef.current.scrollHeight;\n    }\n  }, [logs]);\n\n  // ------- SSE connection --------\n  useEffect(() => {\n    let cancelled = false;\n    let tries = 0;\n    const url = `${API_BASE}/submit/logs/stream`;\n    const disconnect = () => {\n      if (eventSourceRef.current) {\n        try {\n          eventSourceRef.current.close();\n        } catch {}\n        eventSourceRef.current = null;\n      }\n      if (reconnectTimerRef.current) {\n        clearTimeout(reconnectTimerRef.current);\n        reconnectTimerRef.current = null;\n      }\n    };\n    const connect = () => {\n      if (cancelled) return;\n      disconnect();\n      const es = new EventSource(url, {\n        withCredentials: false\n      });\n      eventSourceRef.current = es;\n      es.onopen = () => {\n        tries = 0;\n        toast.dismiss();\n        toast.success(\"üì° Connected to log stream\");\n      };\n      es.onmessage = e => {\n        if (e !== null && e !== void 0 && e.data) setLogs(prev => [...prev, e.data]);\n      };\n      es.onerror = () => {\n        try {\n          es.close();\n        } catch {}\n        if (cancelled) return;\n        if (tries >= MAX_RETRIES) {\n          toast.error(`‚ùå Unable to connect to log stream at ${url}`);\n          return;\n        }\n        tries += 1;\n        const delay = Math.min(1000 * tries, 5000);\n        if (tries === 1) toast.error(\"‚ùå Lost connection to log stream. Retrying‚Ä¶\");\n        reconnectTimerRef.current = setTimeout(connect, delay);\n      };\n    };\n    connect();\n    return () => {\n      cancelled = true;\n      disconnect();\n    };\n  }, []);\n\n  // ------- File handlers --------\n  const pickFile = () => {\n    var _fileInputRef$current;\n    return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n  };\n  const validateCsv = file => {\n    if (!file) return \"Please choose a CSV file.\";\n    if (!file.name.toLowerCase().endsWith(\".csv\")) return \"Please select a .csv file.\";\n    if (file.size > MAX_FILE_SIZE_MB * 1024 * 1024) return `File exceeds ${MAX_FILE_SIZE_MB}MB limit.`;\n    return \"\";\n  };\n  const handleFileChange = e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    const err = validateCsv(file);\n    if (err) return toast.error(err);\n    setCsvFile(file);\n  };\n  const handleDrop = e => {\n    var _e$dataTransfer$files;\n    e.preventDefault();\n    const file = (_e$dataTransfer$files = e.dataTransfer.files) === null || _e$dataTransfer$files === void 0 ? void 0 : _e$dataTransfer$files[0];\n    const err = validateCsv(file);\n    if (err) return toast.error(err);\n    setCsvFile(file);\n  };\n  const clearFile = e => {\n    e.preventDefault();\n    setCsvFile(null);\n    if (fileInputRef.current) fileInputRef.current.value = \"\";\n  };\n\n  // ------- Submit --------\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!csvFile) return toast.error(\"A CSV file is required.\");\n    const token = getAccessToken();\n    if (!token) return toast.error(\"You must be logged in. No access token found.\");\n    const formData = new FormData();\n    formData.append(\"file\", csvFile);\n    formData.append(\"proxy\", proxy || \"\");\n    formData.append(\"haltOnCaptcha\", haltOnCaptcha ? \"true\" : \"false\");\n    try {\n      setSubmitting(true);\n      setLogs([]);\n      toast.success(\"üöÄ Submission started!\");\n      await axios.post(`${API_BASE}/submit/start`, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: `Bearer ${token}`\n        },\n        timeout: 0 // no timeout\n      });\n      toast.success(\"‚úÖ Submission triggered!\");\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(err);\n      const msg = (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || (err === null || err === void 0 ? void 0 : err.message) || \"Error starting submission.\";\n      toast.error(`‚ùå ${msg}`);\n      toast(\"‚ÑπÔ∏è If logs start appearing on the right, the job is running.\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // ------- log color --------\n  const getLogColor = line => {\n    const t = (line || \"\").toLowerCase();\n    if (t.includes(\"‚úÖ\") || t.includes(\"finished\") || t.includes(\"success\")) return \"text-green-400\";\n    if (t.includes(\"‚ùå\") || t.includes(\"üî•\") || t.includes(\"error\") || t.includes(\"failed\")) return \"text-red-400\";\n    if (t.includes(\"‚ö†Ô∏è\") || t.includes(\"warn\")) return \"text-yellow-400\";\n    return \"text-gray-200\";\n  };\n\n  // ================= UI =================\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-[#0b1020] min-h-screen text-gray-100\",\n    children: [/*#__PURE__*/_jsxDEV(Toaster, {\n      position: \"top-right\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl sm:text-4xl font-bold tracking-tight\",\n          children: \"Campaign Submission Center\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-400 mt-2\",\n          children: \"Upload a CSV and launch your automated outreach campaign. Watch live logs in real time.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-5 gap-8 lg:gap-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rounded-2xl border border-white/10 bg-white/[0.03] backdrop-blur-sm shadow-xl\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6 sm:p-8\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSubmit,\n                className: \"space-y-8\",\n                children: [/*#__PURE__*/_jsxDEV(\"section\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-between mb-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"text-base font-semibold\",\n                      children: \"1. Upload CSV File\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 220,\n                      columnNumber: 23\n                    }, this), csvFile && /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: clearFile,\n                      className: \"text-sm text-rose-300 hover:text-rose-200 underline underline-offset-4\",\n                      children: \"Remove\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 219,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"group relative border-2 border-dashed rounded-xl p-6 sm:p-8 bg-white/[0.02] hover:bg-white/[0.04] border-white/20 transition-colors cursor-pointer\",\n                    onClick: pickFile,\n                    onDragOver: e => e.preventDefault(),\n                    onDrop: handleDrop,\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex flex-col items-center text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                        className: \"w-12 h-12 text-indigo-300/80 group-hover:text-indigo-200\",\n                        fill: \"none\",\n                        stroke: \"currentColor\",\n                        viewBox: \"0 0 24 24\",\n                        children: /*#__PURE__*/_jsxDEV(\"path\", {\n                          strokeLinecap: \"round\",\n                          strokeLinejoin: \"round\",\n                          strokeWidth: \"1.5\",\n                          d: \"M7 16a4 4 0 01-4-4V7a4 4 0 014-4h1.6A4 4 0 0115.4 7L12 10.4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 244,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 238,\n                        columnNumber: 25\n                      }, this), csvFile ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"mt-4\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"font-semibold text-indigo-200\",\n                          children: csvFile.name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 254,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs text-gray-400\",\n                          children: [(csvFile.size / 1024).toFixed(2), \" KB\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 255,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 253,\n                        columnNumber: 27\n                      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"mt-4\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-gray-200\",\n                          children: \"Drag & drop your .csv here\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 261,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-400\",\n                          children: [\"or \", /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-semibold text-indigo-300\",\n                            children: \"browse\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 263,\n                            columnNumber: 34\n                          }, this), \" to upload\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 262,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 260,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        ref: fileInputRef,\n                        type: \"file\",\n                        accept: \".csv\",\n                        className: \"sr-only\",\n                        onChange: handleFileChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 268,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 237,\n                      columnNumber: 23\n                    }, this), !csvFile && /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"absolute bottom-3 right-4 text-[11px] text-gray-500\",\n                      children: [\"Max size: \", MAX_FILE_SIZE_MB, \"MB\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 231,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n                  className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"proxy\",\n                      className: \"block text-base font-semibold mb-1.5\",\n                      children: \"2. Proxy (Optional)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 288,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      id: \"proxy\",\n                      type: \"text\",\n                      value: proxy,\n                      onChange: e => setProxy(e.target.value),\n                      placeholder: \"http://user:pass@ip:port\",\n                      className: \"w-full px-3 py-2.5 rounded-lg bg-white/[0.06] border border-white/15 outline-none focus:ring-2 focus:ring-indigo-400/30 focus:border-indigo-400/40 placeholder:text-gray-500\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 291,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-500 mt-1\",\n                      children: \"Leave blank to use the default outbound connection.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 299,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-base font-semibold mb-1.5\",\n                      children: \"3. CAPTCHA Handling\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 305,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center justify-between px-4 py-2.5 rounded-lg bg-white/[0.06] border border-white/15\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-sm text-gray-200\",\n                        children: \"Halt on CAPTCHA\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 310,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"relative inline-flex items-center cursor-pointer\",\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"checkbox\",\n                          className: \"sr-only peer\",\n                          checked: haltOnCaptcha,\n                          onChange: () => setHaltOnCaptcha(!haltOnCaptcha)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 313,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"w-11 h-6 rounded-full bg-white/20 peer-checked:bg-indigo-500 transition-colors\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 319,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"absolute left-1 top-1 w-4 h-4 rounded-full bg-white transform transition-transform peer-checked:translate-x-5\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 320,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 312,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-gray-500 mt-1\",\n                      children: \"When enabled, the run pauses if a CAPTCHA is encountered.\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 323,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pt-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    disabled: submitting,\n                    className: `w-full inline-flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-semibold\n                        ${submitting ? \"bg-indigo-800/60 cursor-not-allowed\" : \"bg-indigo-600 hover:bg-indigo-500\"}\n                        text-white shadow-lg shadow-indigo-900/30 transition`,\n                    children: submitting ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                        className: \"animate-spin h-5 w-5\",\n                        viewBox: \"0 0 24 24\",\n                        fill: \"none\",\n                        xmlns: \"http://www.w3.org/2000/svg\",\n                        children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                          className: \"opacity-25\",\n                          cx: \"12\",\n                          cy: \"12\",\n                          r: \"10\",\n                          stroke: \"currentColor\",\n                          strokeWidth: \"4\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 346,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                          className: \"opacity-75\",\n                          fill: \"currentColor\",\n                          d: \"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 354,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 340,\n                        columnNumber: 27\n                      }, this), \"Processing\\u2026\"]\n                    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: \"Start Submitting\"\n                    }, void 0, false)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sticky top-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg font-semibold\",\n                children: \"Live Logs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setLogs([]),\n                  className: \"text-xs px-2 py-1 rounded-md bg-white/[0.06] border border-white/15 hover:bg-white/[0.1]\",\n                  type: \"button\",\n                  children: \"Clear\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    const text = logs.join(\"\\n\");\n                    navigator.clipboard.writeText(text).then(() => toast.success(\"Logs copied\"));\n                  },\n                  className: \"text-xs px-2 py-1 rounded-md bg-white/[0.06] border border-white/15 hover:bg-white/[0.1]\",\n                  type: \"button\",\n                  children: \"Copy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rounded-xl overflow-hidden border border-white/10 shadow-xl\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-[#0f1530] px-3 py-2 flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex space-x-1.5\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-2.5 h-2.5 rounded-full bg-rose-500/90\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 401,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-2.5 h-2.5 rounded-full bg-amber-500/90\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-2.5 h-2.5 rounded-full bg-emerald-500/90\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 403,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-center text-[12px] text-gray-400 font-mono flex-grow\",\n                  children: \"/var/log/submission.log\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                ref: logsContainerRef,\n                className: \"p-3 h-96 overflow-y-auto text-[12px] font-mono whitespace-pre-wrap bg-[#0a0f24]\",\n                children: logs.length === 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: \"Awaiting submission to start logs\\u2026\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 21\n                }, this) : logs.map((line, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `flex items-start ${getLogColor(line)}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-500 mr-3 select-none w-6 text-right\",\n                    children: String(idx + 1).padStart(2, \"0\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 419,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"flex-1 break-words\",\n                    children: line\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 25\n                  }, this)]\n                }, idx, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 text-xs text-gray-500\",\n              children: \"Tip: Keep this tab in the foreground for the smoothest stream.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 5\n  }, this);\n}\n_s(FormSubmitterPage, \"WsF7tBa0pivMXWYnbGBNXWApkHE=\");\n_c = FormSubmitterPage;\nvar _c;\n$RefreshReg$(_c, \"FormSubmitterPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","toast","Toaster","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","MAX_FILE_SIZE_MB","API_BASE","cra","process","env","REACT_APP_API_BASE","win","window","__API_BASE__","base","protocol","hostname","port","location","replace","getAccessToken","keys","k","v","localStorage","getItem","sessionStorage","m","document","cookie","match","decodeURIComponent","FormSubmitterPage","_s","csvFile","setCsvFile","proxy","setProxy","haltOnCaptcha","setHaltOnCaptcha","submitting","setSubmitting","logs","setLogs","fileInputRef","logsContainerRef","eventSourceRef","reconnectTimerRef","MAX_RETRIES","title","current","scrollTop","scrollHeight","cancelled","tries","url","disconnect","close","clearTimeout","connect","es","EventSource","withCredentials","onopen","dismiss","success","onmessage","e","data","prev","onerror","error","delay","Math","min","setTimeout","pickFile","_fileInputRef$current","click","validateCsv","file","name","toLowerCase","endsWith","size","handleFileChange","_e$target$files","target","files","err","handleDrop","_e$dataTransfer$files","preventDefault","dataTransfer","clearFile","value","handleSubmit","token","formData","FormData","append","post","headers","Authorization","timeout","_err$response","_err$response$data","console","msg","response","detail","message","getLogColor","line","t","includes","className","children","position","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onClick","onDragOver","onDrop","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","toFixed","ref","type","accept","onChange","htmlFor","id","placeholder","checked","disabled","xmlns","cx","cy","r","text","join","navigator","clipboard","writeText","then","length","map","idx","String","padStart","_c","$RefreshReg$"],"sources":["D:/UpWork/AI_Inga/CPS/CPS_FinalDesign-main/CPS_FinalDesign-main/frontend/src/pages/FormSubmitterPage.jsx"],"sourcesContent":["// src/pages/FormSubmitterPage.jsx\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport toast, { Toaster } from \"react-hot-toast\";\r\nimport axios from \"axios\";\r\n\r\nconst MAX_FILE_SIZE_MB = 10;\r\n\r\n// ---- Base URL (no change in behavior) ----\r\nconst API_BASE = (() => {\r\n  const cra = (typeof process !== \"undefined\" && process.env && process.env.REACT_APP_API_BASE) || \"\";\r\n  const win = (typeof window !== \"undefined\" && window.__API_BASE__) || \"\";\r\n  let base = cra || win;\r\n  if (!base) {\r\n    const { protocol, hostname, port } = window.location;\r\n    base =\r\n      port === \"3000\"\r\n        ? `${protocol}//${hostname}:8000`\r\n        : `${protocol}//${hostname}${port ? \":\" + port : \"\"}`;\r\n  }\r\n  return base.replace(/\\/$/, \"\");\r\n})();\r\n\r\nfunction getAccessToken() {\r\n  const keys = [\"access_token\", \"token\", \"authToken\", \"accessToken\", \"id_token\", \"jwt\", \"jwt_token\"];\r\n  for (const k of keys) {\r\n    const v = localStorage.getItem(k) || sessionStorage.getItem(k);\r\n    if (v) return v;\r\n  }\r\n  const m = document.cookie.match(/(?:^|;\\s*)(access_token|token)=([^;]+)/i);\r\n  if (m) return decodeURIComponent(m[2]);\r\n  return \"\";\r\n}\r\n\r\nexport default function FormSubmitterPage() {\r\n  const [csvFile, setCsvFile] = useState(null);\r\n  const [proxy, setProxy] = useState(\"\");\r\n  const [haltOnCaptcha, setHaltOnCaptcha] = useState(true);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [logs, setLogs] = useState([]);\r\n\r\n  const fileInputRef = useRef(null);\r\n  const logsContainerRef = useRef(null);\r\n  const eventSourceRef = useRef(null);\r\n  const reconnectTimerRef = useRef(null);\r\n  const MAX_RETRIES = 6;\r\n\r\n  // ------- Meta --------\r\n  useEffect(() => {\r\n    document.title = \"Campaign Submission Center | CPS\";\r\n  }, []);\r\n\r\n  // ------- Auto-scroll logs --------\r\n  useEffect(() => {\r\n    if (logsContainerRef.current) {\r\n      logsContainerRef.current.scrollTop = logsContainerRef.current.scrollHeight;\r\n    }\r\n  }, [logs]);\r\n\r\n  // ------- SSE connection --------\r\n  useEffect(() => {\r\n    let cancelled = false;\r\n    let tries = 0;\r\n    const url = `${API_BASE}/submit/logs/stream`;\r\n\r\n    const disconnect = () => {\r\n      if (eventSourceRef.current) {\r\n        try {\r\n          eventSourceRef.current.close();\r\n        } catch {}\r\n        eventSourceRef.current = null;\r\n      }\r\n      if (reconnectTimerRef.current) {\r\n        clearTimeout(reconnectTimerRef.current);\r\n        reconnectTimerRef.current = null;\r\n      }\r\n    };\r\n\r\n    const connect = () => {\r\n      if (cancelled) return;\r\n      disconnect();\r\n\r\n      const es = new EventSource(url, { withCredentials: false });\r\n      eventSourceRef.current = es;\r\n\r\n      es.onopen = () => {\r\n        tries = 0;\r\n        toast.dismiss();\r\n        toast.success(\"üì° Connected to log stream\");\r\n      };\r\n\r\n      es.onmessage = (e) => {\r\n        if (e?.data) setLogs((prev) => [...prev, e.data]);\r\n      };\r\n\r\n      es.onerror = () => {\r\n        try {\r\n          es.close();\r\n        } catch {}\r\n        if (cancelled) return;\r\n        if (tries >= MAX_RETRIES) {\r\n          toast.error(`‚ùå Unable to connect to log stream at ${url}`);\r\n          return;\r\n        }\r\n        tries += 1;\r\n        const delay = Math.min(1000 * tries, 5000);\r\n        if (tries === 1) toast.error(\"‚ùå Lost connection to log stream. Retrying‚Ä¶\");\r\n        reconnectTimerRef.current = setTimeout(connect, delay);\r\n      };\r\n    };\r\n\r\n    connect();\r\n    return () => {\r\n      cancelled = true;\r\n      disconnect();\r\n    };\r\n  }, []);\r\n\r\n  // ------- File handlers --------\r\n  const pickFile = () => fileInputRef.current?.click();\r\n\r\n  const validateCsv = (file) => {\r\n    if (!file) return \"Please choose a CSV file.\";\r\n    if (!file.name.toLowerCase().endsWith(\".csv\")) return \"Please select a .csv file.\";\r\n    if (file.size > MAX_FILE_SIZE_MB * 1024 * 1024)\r\n      return `File exceeds ${MAX_FILE_SIZE_MB}MB limit.`;\r\n    return \"\";\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files?.[0];\r\n    const err = validateCsv(file);\r\n    if (err) return toast.error(err);\r\n    setCsvFile(file);\r\n  };\r\n\r\n  const handleDrop = (e) => {\r\n    e.preventDefault();\r\n    const file = e.dataTransfer.files?.[0];\r\n    const err = validateCsv(file);\r\n    if (err) return toast.error(err);\r\n    setCsvFile(file);\r\n  };\r\n\r\n  const clearFile = (e) => {\r\n    e.preventDefault();\r\n    setCsvFile(null);\r\n    if (fileInputRef.current) fileInputRef.current.value = \"\";\r\n  };\r\n\r\n  // ------- Submit --------\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!csvFile) return toast.error(\"A CSV file is required.\");\r\n\r\n    const token = getAccessToken();\r\n    if (!token) return toast.error(\"You must be logged in. No access token found.\");\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"file\", csvFile);\r\n    formData.append(\"proxy\", proxy || \"\");\r\n    formData.append(\"haltOnCaptcha\", haltOnCaptcha ? \"true\" : \"false\");\r\n\r\n    try {\r\n      setSubmitting(true);\r\n      setLogs([]);\r\n      toast.success(\"üöÄ Submission started!\");\r\n\r\n      await axios.post(`${API_BASE}/submit/start`, formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        timeout: 0, // no timeout\r\n      });\r\n      toast.success(\"‚úÖ Submission triggered!\");\r\n    } catch (err) {\r\n      console.error(err);\r\n      const msg = err?.response?.data?.detail || err?.message || \"Error starting submission.\";\r\n      toast.error(`‚ùå ${msg}`);\r\n      toast(\"‚ÑπÔ∏è If logs start appearing on the right, the job is running.\");\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // ------- log color --------\r\n  const getLogColor = (line) => {\r\n    const t = (line || \"\").toLowerCase();\r\n    if (t.includes(\"‚úÖ\") || t.includes(\"finished\") || t.includes(\"success\")) return \"text-green-400\";\r\n    if (t.includes(\"‚ùå\") || t.includes(\"üî•\") || t.includes(\"error\") || t.includes(\"failed\"))\r\n      return \"text-red-400\";\r\n    if (t.includes(\"‚ö†Ô∏è\") || t.includes(\"warn\")) return \"text-yellow-400\";\r\n    return \"text-gray-200\";\r\n  };\r\n\r\n  // ================= UI =================\r\n  return (\r\n    <div className=\"bg-[#0b1020] min-h-screen text-gray-100\">\r\n      <Toaster position=\"top-right\" />\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\r\n        {/* Header */}\r\n        <div className=\"mb-10\">\r\n          <h1 className=\"text-3xl sm:text-4xl font-bold tracking-tight\">\r\n            Campaign Submission Center\r\n          </h1>\r\n          <p className=\"text-gray-400 mt-2\">\r\n            Upload a CSV and launch your automated outreach campaign. Watch live logs in real time.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-5 gap-8 lg:gap-10\">\r\n          {/* Left: form card */}\r\n          <div className=\"lg:col-span-3\">\r\n            <div className=\"rounded-2xl border border-white/10 bg-white/[0.03] backdrop-blur-sm shadow-xl\">\r\n              <div className=\"p-6 sm:p-8\">\r\n                <form onSubmit={handleSubmit} className=\"space-y-8\">\r\n                  {/* CSV upload */}\r\n                  <section>\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                      <label className=\"text-base font-semibold\">1. Upload CSV File</label>\r\n                      {csvFile && (\r\n                        <button\r\n                          onClick={clearFile}\r\n                          className=\"text-sm text-rose-300 hover:text-rose-200 underline underline-offset-4\"\r\n                        >\r\n                          Remove\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n\r\n                    <div\r\n                      className=\"group relative border-2 border-dashed rounded-xl p-6 sm:p-8 bg-white/[0.02] hover:bg-white/[0.04] border-white/20 transition-colors cursor-pointer\"\r\n                      onClick={pickFile}\r\n                      onDragOver={(e) => e.preventDefault()}\r\n                      onDrop={handleDrop}\r\n                    >\r\n                      <div className=\"flex flex-col items-center text-center\">\r\n                        <svg\r\n                          className=\"w-12 h-12 text-indigo-300/80 group-hover:text-indigo-200\"\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          viewBox=\"0 0 24 24\"\r\n                        >\r\n                          <path\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                            strokeWidth=\"1.5\"\r\n                            d=\"M7 16a4 4 0 01-4-4V7a4 4 0 014-4h1.6A4 4 0 0115.4 7L12 10.4\"\r\n                          />\r\n                        </svg>\r\n\r\n                        {csvFile ? (\r\n                          <div className=\"mt-4\">\r\n                            <p className=\"font-semibold text-indigo-200\">{csvFile.name}</p>\r\n                            <p className=\"text-xs text-gray-400\">\r\n                              {(csvFile.size / 1024).toFixed(2)} KB\r\n                            </p>\r\n                          </div>\r\n                        ) : (\r\n                          <div className=\"mt-4\">\r\n                            <p className=\"text-gray-200\">Drag & drop your .csv here</p>\r\n                            <p className=\"text-sm text-gray-400\">\r\n                              or <span className=\"font-semibold text-indigo-300\">browse</span> to upload\r\n                            </p>\r\n                          </div>\r\n                        )}\r\n\r\n                        <input\r\n                          ref={fileInputRef}\r\n                          type=\"file\"\r\n                          accept=\".csv\"\r\n                          className=\"sr-only\"\r\n                          onChange={handleFileChange}\r\n                        />\r\n                      </div>\r\n\r\n                      {!csvFile && (\r\n                        <p className=\"absolute bottom-3 right-4 text-[11px] text-gray-500\">\r\n                          Max size: {MAX_FILE_SIZE_MB}MB\r\n                        </p>\r\n                      )}\r\n                    </div>\r\n                  </section>\r\n\r\n                  {/* Proxy & Captcha */}\r\n                  <section className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    <div>\r\n                      <label htmlFor=\"proxy\" className=\"block text-base font-semibold mb-1.5\">\r\n                        2. Proxy (Optional)\r\n                      </label>\r\n                      <input\r\n                        id=\"proxy\"\r\n                        type=\"text\"\r\n                        value={proxy}\r\n                        onChange={(e) => setProxy(e.target.value)}\r\n                        placeholder=\"http://user:pass@ip:port\"\r\n                        className=\"w-full px-3 py-2.5 rounded-lg bg-white/[0.06] border border-white/15 outline-none focus:ring-2 focus:ring-indigo-400/30 focus:border-indigo-400/40 placeholder:text-gray-500\"\r\n                      />\r\n                      <p className=\"text-xs text-gray-500 mt-1\">\r\n                        Leave blank to use the default outbound connection.\r\n                      </p>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <label className=\"block text-base font-semibold mb-1.5\">\r\n                        3. CAPTCHA Handling\r\n                      </label>\r\n\r\n                      <div className=\"flex items-center justify-between px-4 py-2.5 rounded-lg bg-white/[0.06] border border-white/15\">\r\n                        <span className=\"text-sm text-gray-200\">Halt on CAPTCHA</span>\r\n\r\n                        <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            className=\"sr-only peer\"\r\n                            checked={haltOnCaptcha}\r\n                            onChange={() => setHaltOnCaptcha(!haltOnCaptcha)}\r\n                          />\r\n                          <span className=\"w-11 h-6 rounded-full bg-white/20 peer-checked:bg-indigo-500 transition-colors\"></span>\r\n                          <span className=\"absolute left-1 top-1 w-4 h-4 rounded-full bg-white transform transition-transform peer-checked:translate-x-5\"></span>\r\n                        </label>\r\n                      </div>\r\n                      <p className=\"text-xs text-gray-500 mt-1\">\r\n                        When enabled, the run pauses if a CAPTCHA is encountered.\r\n                      </p>\r\n                    </div>\r\n                  </section>\r\n\r\n                  {/* Submit */}\r\n                  <div className=\"pt-2\">\r\n                    <button\r\n                      type=\"submit\"\r\n                      disabled={submitting}\r\n                      className={`w-full inline-flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-semibold\r\n                        ${submitting ? \"bg-indigo-800/60 cursor-not-allowed\" : \"bg-indigo-600 hover:bg-indigo-500\"}\r\n                        text-white shadow-lg shadow-indigo-900/30 transition`}\r\n                    >\r\n                      {submitting ? (\r\n                        <>\r\n                          <svg\r\n                            className=\"animate-spin h-5 w-5\"\r\n                            viewBox=\"0 0 24 24\"\r\n                            fill=\"none\"\r\n                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                          >\r\n                            <circle\r\n                              className=\"opacity-25\"\r\n                              cx=\"12\"\r\n                              cy=\"12\"\r\n                              r=\"10\"\r\n                              stroke=\"currentColor\"\r\n                              strokeWidth=\"4\"\r\n                            />\r\n                            <path\r\n                              className=\"opacity-75\"\r\n                              fill=\"currentColor\"\r\n                              d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"\r\n                            />\r\n                          </svg>\r\n                          Processing‚Ä¶\r\n                        </>\r\n                      ) : (\r\n                        <>Start Submitting</>\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Right: logs card */}\r\n          <div className=\"lg:col-span-2\">\r\n            <div className=\"sticky top-6\">\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <h2 className=\"text-lg font-semibold\">Live Logs</h2>\r\n                <div className=\"flex gap-2\">\r\n                  <button\r\n                    onClick={() => setLogs([])}\r\n                    className=\"text-xs px-2 py-1 rounded-md bg-white/[0.06] border border-white/15 hover:bg-white/[0.1]\"\r\n                    type=\"button\"\r\n                  >\r\n                    Clear\r\n                  </button>\r\n                  <button\r\n                    onClick={() => {\r\n                      const text = logs.join(\"\\n\");\r\n                      navigator.clipboard.writeText(text).then(() => toast.success(\"Logs copied\"));\r\n                    }}\r\n                    className=\"text-xs px-2 py-1 rounded-md bg-white/[0.06] border border-white/15 hover:bg-white/[0.1]\"\r\n                    type=\"button\"\r\n                  >\r\n                    Copy\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"rounded-xl overflow-hidden border border-white/10 shadow-xl\">\r\n                <div className=\"bg-[#0f1530] px-3 py-2 flex items-center\">\r\n                  <div className=\"flex space-x-1.5\">\r\n                    <div className=\"w-2.5 h-2.5 rounded-full bg-rose-500/90\"></div>\r\n                    <div className=\"w-2.5 h-2.5 rounded-full bg-amber-500/90\"></div>\r\n                    <div className=\"w-2.5 h-2.5 rounded-full bg-emerald-500/90\"></div>\r\n                  </div>\r\n                  <p className=\"text-center text-[12px] text-gray-400 font-mono flex-grow\">\r\n                    /var/log/submission.log\r\n                  </p>\r\n                </div>\r\n\r\n                <div\r\n                  ref={logsContainerRef}\r\n                  className=\"p-3 h-96 overflow-y-auto text-[12px] font-mono whitespace-pre-wrap bg-[#0a0f24]\"\r\n                >\r\n                  {logs.length === 0 ? (\r\n                    <span className=\"text-gray-500\">Awaiting submission to start logs‚Ä¶</span>\r\n                  ) : (\r\n                    logs.map((line, idx) => (\r\n                      <div key={idx} className={`flex items-start ${getLogColor(line)}`}>\r\n                        <span className=\"text-gray-500 mr-3 select-none w-6 text-right\">\r\n                          {String(idx + 1).padStart(2, \"0\")}\r\n                        </span>\r\n                        <span className=\"flex-1 break-words\">{line}</span>\r\n                      </div>\r\n                    ))\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mt-4 text-xs text-gray-500\">\r\n                Tip: Keep this tab in the foreground for the smoothest stream.\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}